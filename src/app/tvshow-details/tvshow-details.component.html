<div class="tv-details" *ngIf="!loading && !error">

  <img *ngIf="details" [src]="placeholderImageUrl+details.poster_path" alt="{{ details.title }}" (error)="handleImageError($event)">
  <img *ngIf="details.getImageUrl || error" src="{{ placeholderImageUrl }}" alt="Movie poster unavailable">

  <div class="tv-details-content">
    <h2>{{ details.name }}</h2>  <p>{{ details.overview }}</p>
    <p><strong>First Aired: </strong> {{ details.release_date || details.first_air_date }} </p>
    <p><strong>Last Aired: </strong> {{ details.release_date || details.last_air_date }}</p>

    <div *ngIf="details">
      <p><strong>Runtime: </strong>{{ details.episode_run_time[0] }} minutes</p>
      <p *ngIf="details.genres?.length">
    <p *ngIf="details?.genres?.length">
      <span class="label"><strong>Genre: </strong></span>
      <span *ngFor="let genre of details.genres"> {{ genre.name }} </span>
    </p>
    <p><strong>Vote Average: </strong> {{ details.vote_average }}</p>
    <p *ngIf="status">
      <span class="label">Status: </span>
      <span>{{ status }}</span>
    </p>
    <p *ngIf="details?.original_language">
      <span class="label"><strong>Language: </strong></span>
      <span>{{ getLanguageText(details.original_language).toUpperCase() }}</span>
    </p>
    <div>
      <button class="back-button" (click)="goBack()">Back</button>
    </div>
  </div>
  
</div>

<div class="error-message" *ngIf="error">
  {{ error }}
</div>

<div *ngIf="loading">
  Loading movie details...
</div>
